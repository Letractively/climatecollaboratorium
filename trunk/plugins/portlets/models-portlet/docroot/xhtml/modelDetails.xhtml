<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2010. M.I.T. All Rights Reserved
  ~ Licensed under the MIT license. Please see http://www.opensource.org/licenses/mit-license.php
  ~ or the license.txt file included in this distribution for the full text of the license.
  -->

<f:view xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:ice="http://www.icesoft.com/icefaces/component" 
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:liferay-faces="http://liferay.com/tld/faces">
    <div class="pageTitle">
        <h2>Model: #{simulationBean.simulation.name}</h2>
        <div class="simulationActions">
            <ice:form>
                <ice:commandButton value="Edit" actionListener="#{simulationBean.editSimulation}" rendered="#{(not simulationBean.editing) and permissions.canEditModel}" />
            </ice:form>
        </div>
        <div class="clear"></div>
    </div>
    
    <ice:panelGroup styleClass="modelDescription" rendered="#{not simulationBean.editing}">
        <p class="hidden">#{simulationBean.simulation.description}</p>
    </ice:panelGroup>
    
    <ice:panelGroup styleClass="modelDescription" rendered="#{simulationBean.editing}">
        <f:subview>
            <ui:include src="./editSimulation.xhtml" />
        </f:subview>
    </ice:panelGroup>
    
    <ice:panelGroup rendered="#{not simulationBean.editing}">
        <div class="model-information">
            <div class="bottom-content">
                    <ice:form>
                <f:subview id="inputsView">
                    <ui:include src="./inputs/inputs.xhtml" />
                </f:subview>
                <f:subview id="outputsView">
                    <ui:include src="./outputs/outputs.xhtml" />
                </f:subview>
                
                <div class="clear"></div>
                <div class="modelActions">
                    <ice:commandLink actionListener="#{simulationBean.runModel}" onclick="runModel();" styleClass="full runModelBtn" />
                    <div class="clear"></div>
                </div>
                    </ice:form>
            </div>
        </div>
    </ice:panelGroup>
</f:view>