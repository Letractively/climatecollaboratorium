<?xml version="1.0"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:ice="http://www.icesoft.com/icefaces/component" 
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:collab="http://climatecollaboratorium.org/facelets"
    xmlns:liferay-faces="http://liferay.com/tld/faces">
    <ice:panelGroup styleClass="editWithVersions actionsImpactsEditContainer">
        <div class="chooseVersionWidget">
            <input type="button" value="Versions" class="versionsTrigger expand" />
                <div class="versionsContainer relative">
                    <div class="versions">
                        <ice:selectOneListbox value="#{planBean.plan.currentPlanModelRunVersion}" partialSubmit="true">
                            <f:selectItems value="#{planBean.plan.planModelRunVersionItems}" /> 
                        </ice:selectOneListbox>
                        <br />
                        <input type="button" value="Hide" class="versionsTrigger collapse" />
                    </div>
                    <div class="clear"></div>    
            </div>
        </div>
    </ice:panelGroup>
    <div class="inputsAndOutputsWidget">
        <f:subview rendered="#{permissions.canEdit}">
            <collab:simulation simulationId="#{planBean.plan.selectedModel}" scenarioId="#{planBean.plan.planModelRunScenarioId}"
                    showEditButton="true" />
        </f:subview>
        <f:subview rendered="#{not permissions.canEdit}">
            <collab:simulation simulationId="#{planBean.plan.selectedModel}" scenarioId="#{planBean.plan.planModelRunScenarioId}" 
                    disableInputs="true" />
        </f:subview>
    </div>
        
    <script language="javascript">
        jQuery(document).ready(initVersionChoosingBox);
    </script>
</f:view>