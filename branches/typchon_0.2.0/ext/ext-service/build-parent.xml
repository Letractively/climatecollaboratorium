<?xml version="1.0"?>

<!--
  ~ Copyright (c) 2010. M.I.T. All Rights Reserved
  ~ Licensed under the MIT license. Please see http://www.opensource.org/licenses/mit-license.php
  ~ or the license.txt file included in this distribution for the full text of the license.
  -->

<project name="ext-service-parent">
	<import file="../build-common.xml" />

	<property name="deploy.dir" value="${app.server.lib.global.dir}" />
	<property name="jar.file" value="${ant.project.name}" />
	<property name="util-java.jar.file" value="../lib/portal/util-java.jar" />
    <property name="apache-commons.jar.file" value="../lib/portal/commons-lang.jar" />

	<target name="clean">
		<delete dir="classes" />
		<delete file="${jar.file}.jar" failonerror="false" />
	</target>

	<target name="compile">
		<mkdir dir="classes" />

		<path id="web-lib.classpath">
		</path>

		<javac
			classpathref="web.classpath"
			compiler="${javac.compiler}"
			debug="${javac.debug}"
			deprecation="${javac.deprecation}"
			destdir="classes"
			nowarn="${javac.nowarn}"
			srcdir="src"
		/>
	</target>

	<target name="jar" depends="compile">
		<jar
			basedir="classes"
			jarfile="${jar.file}.jar"
		/>
	</target>

	<target name="deploy" depends="jar">
		<copy file="${jar.file}.jar" todir="${deploy.dir}" />
		<copy file="${util-java.jar.file}" todir="${deploy.dir}" />
        <copy file="${apache-commons.jar.file}" todir="${deploy.dir}" />
	</target>
</project>
